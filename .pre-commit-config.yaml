repos:
  - repo: local
    hooks:
      - id: artifact-check
        name: Artifact Protection
        entry: bash
        language: system
        pass_filenames: false
        args:
          - -c
          - |
            for file in $(git diff --cached --name-only); do
              if [ -f "$file" ] && head -10 "$file" 2>/dev/null | grep -q "AUTO-GENERATED"; then
                echo "⚠️  WARNING: $file appears to be auto-generated"
                exit 1
              fi
            done

      - id: ruff
        name: ruff
        entry: ruff
        language: system
        types: [python]
        exclude: '\.devenv/|result'
        args: ['check', '--fix']

      - id: check-markdown-frontmatter
        name: Check Markdown Frontmatter
        entry: python3 scripts/check-frontmatter.py
        language: system
        files: \.md$
        exclude: ^CLAUDE\.md$
